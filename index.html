<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R-Index | Routine Archive</title>
    <style>
        /* ═══════════════════════════════════════════════════════════
           R-INDEX: The Routine Archive
           Two styles: MYSTICAL (elegant) and BRUTALIST (raw/geometric)
           ═══════════════════════════════════════════════════════════ */

        :root {
            --font-main: 'Courier New', Courier, monospace;
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow-x: hidden;
        }

        body {
            font-family: var(--font-main);
            transition: background var(--transition-speed) ease, color var(--transition-speed) ease;
            min-height: 100vh;
        }

        /* ═══════════════════════════════════════════════════════════
           MYSTICAL STYLE (default)
           ═══════════════════════════════════════════════════════════ */

        /* Light Mode - Mystical */
        body.mystical.light-mode {
            background: linear-gradient(to bottom, #f4f1ea 0%, #e8e4d9 50%, #ddd8c8 100%);
            color: #1e3a5f;
        }

        /* Dark Mode - Mystical */
        body.mystical.dark-mode {
            background: linear-gradient(135deg, #0d0d0d 0%, #1a1a1a 50%, #0f0f0f 100%);
            color: #d4c4a8;
        }

        /* ═══════════════════════════════════════════════════════════
           BRUTALIST STYLE
           ═══════════════════════════════════════════════════════════ */

        /* Light Mode - Brutalist */
        body.brutalist.light-mode {
            background: linear-gradient(to bottom, #f4f1ea 0%, #ebe7db 100%);
            color: #2a2a2a;
        }

        /* Dark Mode - Brutalist */
        body.brutalist.dark-mode {
            background: linear-gradient(to bottom, #1a1a1a 0%, #0d0d0d 100%);
            color: #e0e0e0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
        }

        /* ═══════════════════════════════════════════════════════════
           STYLE SWITCHER
           ═══════════════════════════════════════════════════════════ */

        .style-switcher {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding: 0.75rem;
            border: 1px solid;
            transition: all var(--transition-speed);
        }

        .mystical.light-mode .style-switcher { border-color: #1e3a5f44; background: #1e3a5f08; }
        .mystical.dark-mode .style-switcher { border-color: #d4c4a822; background: #d4c4a805; }
        .brutalist.light-mode .style-switcher { border-color: #2a2a2a; background: #fefdfb; box-shadow: 3px 3px 0 #2a2a2a; }
        .brutalist.dark-mode .style-switcher { border-color: #e0e0e0; background: #2a2a2a; box-shadow: 3px 3px 0 #e0e0e0; }

        .style-switcher-label {
            font-size: 0.625rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            opacity: 0.5;
            align-self: center;
            margin-right: 0.5rem;
        }

        .style-btn {
            padding: 0.5rem 1rem;
            font-family: var(--font-main);
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            border: 1px solid;
            background: transparent;
            cursor: pointer;
            transition: all var(--transition-speed);
        }

        .mystical.light-mode .style-btn { border-color: #1e3a5f55; color: #1e3a5f; }
        .mystical.light-mode .style-btn.active { background: #1e3a5f; color: #f4f1ea; }
        .mystical.dark-mode .style-btn { border-color: #d4c4a833; color: #d4c4a8; }
        .mystical.dark-mode .style-btn.active { background: #d4c4a8; color: #0d0d0d; }

        .brutalist.light-mode .style-btn { border-color: #2a2a2a; color: #2a2a2a; }
        .brutalist.light-mode .style-btn:hover { transform: translate(-1px, -1px); box-shadow: 2px 2px 0 #2a2a2a; }
        .brutalist.light-mode .style-btn.active { background: #2a2a2a; color: #fefdfb; box-shadow: 2px 2px 0 #2a2a2a; }
        .brutalist.dark-mode .style-btn { border-color: #e0e0e0; color: #e0e0e0; }
        .brutalist.dark-mode .style-btn:hover { transform: translate(-1px, -1px); box-shadow: 2px 2px 0 #e0e0e0; }
        .brutalist.dark-mode .style-btn.active { background: #e0e0e0; color: #1a1a1a; box-shadow: 2px 2px 0 #e0e0e0; }

        /* ═══════════════════════════════════════════════════════════
           HEADER
           ═══════════════════════════════════════════════════════════ */

        .header {
            text-align: center;
            padding-bottom: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        /* Mystical header */
        .mystical .header {
            border-bottom: 1px solid;
        }
        .mystical.light-mode .header { border-color: #1e3a5f44; }
        .mystical.dark-mode .header { border-color: #d4c4a833; }

        .mystical .header::after {
            content: '◆ ◇ ◆';
            position: absolute;
            bottom: -0.6rem;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            letter-spacing: 0.5rem;
            padding: 0 1rem;
        }
        .mystical.light-mode .header::after {
            background: linear-gradient(to bottom, #f4f1ea, #e8e4d9);
            color: #1e3a5f88;
        }
        .mystical.dark-mode .header::after {
            background: linear-gradient(135deg, #0d0d0d, #1a1a1a);
            color: #d4c4a866;
        }

        /* Brutalist header */
        .brutalist .header {
            border-bottom: 2px solid;
        }
        .brutalist.light-mode .header { border-color: #2a2a2a; }
        .brutalist.dark-mode .header { border-color: #e0e0e0; }
        .brutalist .header::after { display: none; }

        .mode-toggle {
            position: absolute;
            top: 0;
            right: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            z-index: 10;
        }

        .mode-toggle button {
            background: none;
            border: 1px solid;
            font-size: 1.125rem;
            cursor: pointer;
            min-width: 44px;
            min-height: 44px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-family: inherit;
        }

        .mystical.light-mode .mode-toggle button { border-color: #1e3a5f55; color: #1e3a5f; }
        .mystical.dark-mode .mode-toggle button { border-color: #d4c4a844; color: #d4c4a8; }
        .brutalist.light-mode .mode-toggle button { border-color: #2a2a2a; color: #2a2a2a; }
        .brutalist.dark-mode .mode-toggle button { border-color: #e0e0e0; color: #e0e0e0; }

        .mode-toggle button:hover {
            transform: scale(1.05);
            opacity: 1;
        }

        .title-wrapper {
            margin-top: 0.5rem;
        }

        .title-decoration {
            font-size: 0.625rem;
            letter-spacing: 0.5rem;
            opacity: 0.4;
            margin-bottom: 0.5rem;
        }

        .mystical .title-decoration { display: block; }
        .brutalist .title-decoration { display: none; }

        .title {
            font-size: clamp(2rem, 6vw, 3rem);
            letter-spacing: 0.3em;
            text-transform: uppercase;
        }

        .mystical .title { font-weight: normal; }
        .mystical.dark-mode .title { text-shadow: 0 0 30px #d4c4a822; }

        .brutalist .title { font-weight: bold; letter-spacing: 0.05em; }
        .brutalist .title::before { content: '════ '; }
        .brutalist .title::after { content: ' ════'; }

        .subtitle {
            font-size: 0.75rem;
            letter-spacing: 0.2em;
            opacity: 0.5;
            margin-top: 0.75rem;
        }

        .mystical .subtitle { font-style: italic; }
        .brutalist .subtitle { font-style: normal; }
        .brutalist .subtitle::before { content: '[  '; }
        .brutalist .subtitle::after { content: '  ]'; }

        /* ═══════════════════════════════════════════════════════════
           SEARCH
           ═══════════════════════════════════════════════════════════ */

        .search-container {
            margin-bottom: 2rem;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 0.875rem 1rem;
            padding-left: 2.5rem;
            font-family: var(--font-main);
            font-size: 0.875rem;
            background: transparent;
            transition: all var(--transition-speed);
            letter-spacing: 0.05em;
        }

        /* Mystical search */
        .mystical .search-box { border: 1px solid; }
        .mystical.light-mode .search-box { border-color: #1e3a5f44; color: #1e3a5f; }
        .mystical.light-mode .search-box:focus { border-color: #1e3a5f; outline: none; box-shadow: 0 0 0 2px #1e3a5f22; }
        .mystical.light-mode .search-box::placeholder { color: #1e3a5f77; }
        .mystical.dark-mode .search-box { border-color: #d4c4a833; color: #d4c4a8; }
        .mystical.dark-mode .search-box:focus { border-color: #d4c4a8; outline: none; box-shadow: 0 0 20px #d4c4a811; }
        .mystical.dark-mode .search-box::placeholder { color: #d4c4a855; }

        /* Brutalist search */
        .brutalist .search-box { border: 2px solid; }
        .brutalist.light-mode .search-box { border-color: #2a2a2a; color: #2a2a2a; background: #fefdfb; }
        .brutalist.light-mode .search-box:focus { outline: none; box-shadow: 4px 4px 0 #2a2a2a; }
        .brutalist.light-mode .search-box::placeholder { color: #2a2a2a66; }
        .brutalist.dark-mode .search-box { border-color: #e0e0e0; color: #e0e0e0; background: #2a2a2a; }
        .brutalist.dark-mode .search-box:focus { outline: none; box-shadow: 4px 4px 0 #e0e0e0; }
        .brutalist.dark-mode .search-box::placeholder { color: #e0e0e066; }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.4;
            font-size: 0.875rem;
        }

        .search-hint {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.625rem;
            opacity: 0.3;
            letter-spacing: 0.1em;
        }

        /* ═══════════════════════════════════════════════════════════
           CATEGORY FILTERS
           ═══════════════════════════════════════════════════════════ */

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 2rem;
            justify-content: center;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            font-family: var(--font-main);
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            background: transparent;
            cursor: pointer;
            transition: all var(--transition-speed);
        }

        /* Mystical filters */
        .mystical .filter-btn { border: 1px solid; }
        .mystical.light-mode .filter-btn { border-color: #1e3a5f55; color: #1e3a5f; }
        .mystical.light-mode .filter-btn:hover,
        .mystical.light-mode .filter-btn.active { background: #1e3a5f; color: #f4f1ea; border-color: #1e3a5f; }
        .mystical.dark-mode .filter-btn { border-color: #d4c4a833; color: #d4c4a8; }
        .mystical.dark-mode .filter-btn:hover,
        .mystical.dark-mode .filter-btn.active { background: #d4c4a8; color: #0d0d0d; border-color: #d4c4a8; }

        /* Brutalist filters */
        .brutalist .filter-btn { border: 2px solid; }
        .brutalist.light-mode .filter-btn { border-color: #2a2a2a; color: #2a2a2a; }
        .brutalist.light-mode .filter-btn:hover { transform: translate(-2px, -2px); box-shadow: 4px 4px 0 #2a2a2a; }
        .brutalist.light-mode .filter-btn.active { background: #2a2a2a; color: #fefdfb; box-shadow: 4px 4px 0 #2a2a2a; }
        .brutalist.dark-mode .filter-btn { border-color: #e0e0e0; color: #e0e0e0; }
        .brutalist.dark-mode .filter-btn:hover { transform: translate(-2px, -2px); box-shadow: 4px 4px 0 #e0e0e0; }
        .brutalist.dark-mode .filter-btn.active { background: #e0e0e0; color: #1a1a1a; box-shadow: 4px 4px 0 #e0e0e0; }

        /* ═══════════════════════════════════════════════════════════
           SECTIONS
           ═══════════════════════════════════════════════════════════ */

        .section {
            margin-bottom: 2.5rem;
        }

        .section.hidden {
            display: none;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .section-line {
            flex: 1;
            height: 1px;
        }

        .mystical.light-mode .section-line { background: #1e3a5f44; }
        .mystical.dark-mode .section-line { background: #d4c4a833; }
        .brutalist.light-mode .section-line { background: #2a2a2a; height: 2px; }
        .brutalist.dark-mode .section-line { background: #e0e0e0; height: 2px; }

        .section-title {
            font-size: 0.75rem;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            opacity: 0.8;
            white-space: nowrap;
        }

        .brutalist .section-title { font-weight: bold; opacity: 1; }

        .section-icon {
            opacity: 0.6;
        }

        .brutalist .section-icon { opacity: 1; }

        /* ═══════════════════════════════════════════════════════════
           LINK CARDS
           ═══════════════════════════════════════════════════════════ */

        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
        }

        @media (max-width: 480px) {
            .links-grid {
                grid-template-columns: 1fr;
            }
        }

        .link-card {
            padding: 1.25rem;
            cursor: pointer;
            transition: all var(--transition-speed);
            text-align: left;
            font-family: inherit;
            display: block;
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }

        /* Mystical cards */
        .mystical .link-card { border: 1px solid; background: transparent; }
        .mystical .link-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            transition: all var(--transition-speed);
        }
        .mystical.light-mode .link-card { border-color: #1e3a5f44; color: #1e3a5f; }
        .mystical.light-mode .link-card::before { background: #1e3a5f55; }
        .mystical.light-mode .link-card:hover { border-color: #1e3a5f77; transform: translateX(4px); }
        .mystical.light-mode .link-card:hover::before { background: #1e3a5f; }
        .mystical.dark-mode .link-card { border-color: #d4c4a844; color: #d4c4a8; }
        .mystical.dark-mode .link-card::before { background: #d4c4a855; }
        .mystical.dark-mode .link-card:hover { border-color: #d4c4a866; transform: translateX(4px); box-shadow: 0 0 30px #d4c4a811; }
        .mystical.dark-mode .link-card:hover::before { background: #d4c4a8; }

        /* Brutalist cards */
        .brutalist .link-card { border: 2px solid; }
        .brutalist .link-card::before { display: none; }
        .brutalist.light-mode .link-card { border-color: #2a2a2a; color: #2a2a2a; background: #fefdfb; box-shadow: 4px 4px 0 #2a2a2a; }
        .brutalist.light-mode .link-card:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 #2a2a2a; background: #f9f7f0; }
        .brutalist.dark-mode .link-card { border-color: #e0e0e0; color: #e0e0e0; background: #2a2a2a; box-shadow: 4px 4px 0 #e0e0e0; }
        .brutalist.dark-mode .link-card:hover { transform: translate(-2px, -2px); box-shadow: 6px 6px 0 #e0e0e0; background: #333333; }

        .link-card.hidden {
            display: none;
        }

        .card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .card-title {
            font-size: 0.9375rem;
            letter-spacing: 0.05em;
            line-height: 1.3;
        }

        .mystical .card-title { font-weight: normal; }
        .brutalist .card-title { font-weight: bold; text-transform: uppercase; letter-spacing: 0.1em; }

        .card-category {
            font-size: 0.625rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            opacity: 0.6;
            padding: 0.2rem 0.5rem;
            border: 1px solid;
            flex-shrink: 0;
            margin-left: 0.75rem;
        }

        .mystical.light-mode .card-category { border-color: #1e3a5f55; }
        .mystical.dark-mode .card-category { border-color: #d4c4a855; }
        .brutalist.light-mode .card-category { border-color: #2a2a2a; opacity: 0.7; }
        .brutalist.dark-mode .card-category { border-color: #e0e0e0; opacity: 0.7; }

        .card-desc {
            font-size: 0.75rem;
            opacity: 0.7;
            line-height: 1.5;
            margin-top: 0.5rem;
        }

        .brutalist .card-desc { opacity: 0.8; }

        .card-date {
            font-size: 0.625rem;
            opacity: 0.5;
            margin-top: 0.75rem;
            letter-spacing: 0.1em;
        }

        /* ═══════════════════════════════════════════════════════════
           EMPTY STATE
           ═══════════════════════════════════════════════════════════ */

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            opacity: 0.4;
        }

        .empty-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .empty-text {
            font-size: 0.875rem;
            letter-spacing: 0.1em;
        }

        /* ═══════════════════════════════════════════════════════════
           FOOTER
           ═══════════════════════════════════════════════════════════ */

        .footer {
            text-align: center;
            margin-top: auto;
            padding-top: 2rem;
            font-size: 0.75rem;
            letter-spacing: 0.2em;
            opacity: 0.5;
        }

        .footer-decoration {
            margin-bottom: 0.5rem;
            font-size: 0.625rem;
            letter-spacing: 1rem;
        }

        .brutalist .footer-decoration { display: none; }
        .brutalist .footer::before { content: '[ '; }
        .brutalist .footer::after { content: ' ]'; }

        /* ═══════════════════════════════════════════════════════════
           STATS BAR
           ═══════════════════════════════════════════════════════════ */

        .stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            font-size: 0.625rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            opacity: 0.6;
        }

        .brutalist .stats { opacity: 0.7; }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stat-count {
            font-size: 1rem;
            opacity: 0.8;
        }

        @media (max-width: 480px) {
            .stats {
                gap: 1rem;
                flex-wrap: wrap;
            }
        }

        /* ═══════════════════════════════════════════════════════════
           LOADING STATE
           ═══════════════════════════════════════════════════════════ */

        body.loading {
            visibility: hidden;
        }

        /* ═══════════════════════════════════════════════════════════
           SCROLL BAR (dark mode enhancement)
           ═══════════════════════════════════════════════════════════ */

        .dark-mode::-webkit-scrollbar { width: 8px; }
        .dark-mode::-webkit-scrollbar-track { background: #0d0d0d; }
        .mystical.dark-mode::-webkit-scrollbar-thumb { background: #d4c4a833; border-radius: 4px; }
        .mystical.dark-mode::-webkit-scrollbar-thumb:hover { background: #d4c4a855; }
        .brutalist.dark-mode::-webkit-scrollbar-thumb { background: #e0e0e033; border-radius: 0; }
        .brutalist.dark-mode::-webkit-scrollbar-thumb:hover { background: #e0e0e055; }

        /* ═══════════════════════════════════════════════════════════
           BRUTALIST ENHANCEMENTS
           Elevating the raw aesthetic with polish and options
           ═══════════════════════════════════════════════════════════ */

        /* ─── CSS CUSTOM PROPERTIES ─── */
        .brutalist {
            /* Accent Colors */
            --brut-accent: #e63946;
            --brut-accent-dark: #ff4d5a;
            /* Shadow Sizes */
            --brut-shadow-base: 4px;
            --brut-shadow-hover: 7px;
            --brut-shadow-active: 2px;
            /* Typography */
            --brut-title-weight: 900;
            --brut-title-spacing: 0.08em;
            /* Transitions */
            --brut-transition: 0s;
        }

        /* ─── CATEGORY 1: TYPOGRAPHY - INDUSTRIAL HEAVY (Recommended) ─── */
        .brutalist .title {
            font-weight: var(--brut-title-weight);
            letter-spacing: var(--brut-title-spacing);
        }

        .brutalist .card-title {
            font-weight: 800;
            letter-spacing: 0.06em;
            font-size: 0.875rem;
        }

        .brutalist .section-title {
            font-weight: 700;
            letter-spacing: 0.2em;
            font-size: 0.6875rem;
        }

        .brutalist .card-desc {
            letter-spacing: 0.02em;
            line-height: 1.6;
        }

        /* Typography Alternative A: Compressed */
        .brutalist.typo-compressed .title {
            letter-spacing: -0.02em;
            font-weight: 800;
        }
        .brutalist.typo-compressed .card-title {
            letter-spacing: 0em;
        }

        /* Typography Alternative B: Monospace Grid */
        .brutalist.typo-mono .title {
            letter-spacing: 0.35em;
            font-weight: 700;
        }
        .brutalist.typo-mono .card-title,
        .brutalist.typo-mono .section-title {
            font-variant-numeric: tabular-nums;
            letter-spacing: 0.12em;
        }

        /* Typography Alternative C: Stencil */
        .brutalist.typo-stencil .title {
            text-decoration: underline;
            text-decoration-thickness: 3px;
            text-underline-offset: 8px;
        }
        .brutalist.typo-stencil .section-title {
            text-decoration: underline;
            text-decoration-thickness: 2px;
            text-underline-offset: 4px;
        }

        /* ─── CATEGORY 2: GEOMETRIC ACCENTS - BLOCK GRID (Recommended) ─── */
        .brutalist .title-decoration {
            display: block !important;
            opacity: 0.25;
            font-size: 0.5rem;
            letter-spacing: 0.2em;
            margin-bottom: 0.75rem;
        }
        .brutalist .title-decoration::before {
            content: '▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓';
        }

        .brutalist .title::before { content: '[ '; font-weight: 400; }
        .brutalist .title::after { content: ' ]'; font-weight: 400; }

        .brutalist .section-title::before {
            content: '// ';
            opacity: 0.5;
        }

        .brutalist .footer-decoration {
            display: block !important;
            opacity: 0.25;
        }
        .brutalist .footer-decoration::before {
            content: '▌▌▌▌▌▌▌▌';
            letter-spacing: 0.3em;
        }

        /* Geometric Alternative A: ASCII Lines */
        .brutalist.geo-ascii .title-decoration::before {
            content: '┌──────────────────────┐';
        }
        .brutalist.geo-ascii .section-title::before {
            content: '├─ ';
        }
        .brutalist.geo-ascii .footer-decoration::before {
            content: '└──────────────────────┘';
        }

        /* Geometric Alternative B: Hash Pattern */
        .brutalist.geo-hash .title-decoration::before {
            content: '### ### ### ### ###';
        }
        .brutalist.geo-hash .title::before { content: '//// '; }
        .brutalist.geo-hash .title::after { content: ' ////'; }
        .brutalist.geo-hash .section-title::before {
            content: '# ';
        }
        .brutalist.geo-hash .footer-decoration::before {
            content: '## ## ## ##';
        }

        /* Geometric Alternative C: Pipe System */
        .brutalist.geo-pipe .title-decoration::before {
            content: '▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌';
        }
        .brutalist.geo-pipe .title::before { content: '▐▐ '; }
        .brutalist.geo-pipe .title::after { content: ' ▌▌'; }
        .brutalist.geo-pipe .section-title::before {
            content: '▌ ';
        }
        .brutalist.geo-pipe .section-line {
            background: repeating-linear-gradient(
                90deg,
                currentColor,
                currentColor 4px,
                transparent 4px,
                transparent 8px
            ) !important;
            height: 4px !important;
        }

        /* ─── CATEGORY 3: MICRO-INTERACTIONS - SNAP RESPONSE (Recommended) ─── */
        .brutalist .link-card,
        .brutalist .filter-btn,
        .brutalist .style-btn {
            transition: none;
        }

        .brutalist .link-card:active,
        .brutalist .filter-btn:active,
        .brutalist .style-btn:active {
            transform: translate(1px, 1px);
        }

        .brutalist .link-card:focus-visible,
        .brutalist .filter-btn:focus-visible,
        .brutalist .search-box:focus-visible {
            outline: 3px solid currentColor;
            outline-offset: 2px;
        }

        /* Interactions Alternative A: Stepped */
        .brutalist.interact-stepped .link-card,
        .brutalist.interact-stepped .filter-btn,
        .brutalist.interact-stepped .style-btn {
            transition: all 0.15s steps(3);
        }

        /* Interactions Alternative B: Smooth Industrial */
        .brutalist.interact-smooth .link-card,
        .brutalist.interact-smooth .filter-btn,
        .brutalist.interact-smooth .style-btn {
            transition: all 0.12s cubic-bezier(0.25, 0, 0.5, 1);
        }

        /* Interactions Alternative C: Flicker */
        .brutalist.interact-flicker .link-card:hover,
        .brutalist.interact-flicker .filter-btn:hover {
            animation: brut-flicker 0.1s ease-in-out;
        }
        @keyframes brut-flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* ─── CATEGORY 4: COLOR ACCENTS - SIGNAL RED (Recommended) ─── */
        /* Active filter with accent */
        .brutalist.light-mode .filter-btn.active {
            background: var(--brut-accent) !important;
            border-color: var(--brut-accent) !important;
            color: #fefdfb !important;
        }
        .brutalist.dark-mode .filter-btn.active {
            background: var(--brut-accent-dark) !important;
            border-color: var(--brut-accent-dark) !important;
            color: #1a1a1a !important;
        }

        /* Card hover accent bar */
        .brutalist .link-card::before {
            display: block !important;
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: transparent;
        }
        .brutalist.light-mode .link-card:hover::before {
            background: var(--brut-accent);
        }
        .brutalist.dark-mode .link-card:hover::before {
            background: var(--brut-accent-dark);
        }

        /* Search focus accent */
        .brutalist.light-mode .search-box:focus {
            border-color: var(--brut-accent) !important;
            box-shadow: 4px 4px 0 var(--brut-accent) !important;
        }
        .brutalist.dark-mode .search-box:focus {
            border-color: var(--brut-accent-dark) !important;
            box-shadow: 4px 4px 0 var(--brut-accent-dark) !important;
        }

        /* Accent Alternative A: Industrial Yellow */
        .brutalist.accent-yellow {
            --brut-accent: #ffc107;
            --brut-accent-dark: #ffd54f;
        }

        /* Accent Alternative B: Terminal Green */
        .brutalist.accent-green {
            --brut-accent: #00c853;
            --brut-accent-dark: #69f0ae;
        }

        /* Accent Alternative C: Monochrome (no color) */
        .brutalist.accent-mono {
            --brut-accent: #2a2a2a;
            --brut-accent-dark: #e0e0e0;
        }

        /* ─── CATEGORY 5: STRUCTURAL ELEMENTS - CORNER BRACKETS (Recommended) ─── */
        .brutalist .link-card::after {
            content: '';
            position: absolute;
            bottom: -1px;
            right: -1px;
            width: 12px;
            height: 12px;
            border-style: solid;
            border-color: currentColor;
            border-width: 0 2px 2px 0;
            opacity: 0.2;
            transition: opacity 0s;
        }
        .brutalist .link-card:hover::after {
            opacity: 0.6;
        }

        /* Numbered section labels */
        .brutalist .section[data-category="artifact"] .section-title::before { content: '01 // '; }
        .brutalist .section[data-category="canvas"] .section-title::before { content: '02 // '; }
        .brutalist .section[data-category="note"] .section-title::before { content: '03 // '; }
        .brutalist .section[data-category="tool"] .section-title::before { content: '04 // '; }

        /* Structural Alternative A: Full Frame */
        .brutalist.struct-frame .link-card {
            outline: 1px solid;
            outline-offset: 3px;
        }
        .brutalist.struct-frame.light-mode .link-card {
            outline-color: #2a2a2a22;
        }
        .brutalist.struct-frame.dark-mode .link-card {
            outline-color: #e0e0e022;
        }
        .brutalist.struct-frame .link-card:hover {
            outline-color: currentColor;
        }

        /* Structural Alternative B: Index Numbers */
        .brutalist.struct-indexed {
            counter-reset: card-counter;
        }
        .brutalist.struct-indexed .link-card {
            counter-increment: card-counter;
        }
        .brutalist.struct-indexed .link-card::after {
            content: counter(card-counter, decimal-leading-zero);
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            font-size: 0.5rem;
            font-weight: 700;
            opacity: 0.15;
            letter-spacing: 0.05em;
            border: none;
            width: auto;
            height: auto;
        }
        .brutalist.struct-indexed .link-card:hover::after {
            opacity: 0.4;
        }

        /* Structural Alternative C: Divider Lines */
        .brutalist.struct-divided .card-header {
            padding-bottom: 0.5rem;
            border-bottom: 1px solid;
            margin-bottom: 0.5rem;
        }
        .brutalist.struct-divided.light-mode .card-header {
            border-color: #2a2a2a33;
        }
        .brutalist.struct-divided.dark-mode .card-header {
            border-color: #e0e0e033;
        }
        .brutalist.struct-divided .card-date {
            padding-top: 0.5rem;
            border-top: 1px dashed;
        }
        .brutalist.struct-divided.light-mode .card-date {
            border-color: #2a2a2a22;
        }
        .brutalist.struct-divided.dark-mode .card-date {
            border-color: #e0e0e022;
        }

        /* ─── CATEGORY 6: MOTION & FEEDBACK - MECHANICAL SNAP (Recommended) ─── */
        .brutalist .link-card:hover {
            transform: translate(-3px, -3px);
        }
        .brutalist.light-mode .link-card {
            box-shadow: var(--brut-shadow-base) var(--brut-shadow-base) 0 #2a2a2a;
        }
        .brutalist.light-mode .link-card:hover {
            box-shadow: var(--brut-shadow-hover) var(--brut-shadow-hover) 0 #2a2a2a;
        }
        .brutalist.light-mode .link-card:active {
            box-shadow: var(--brut-shadow-active) var(--brut-shadow-active) 0 #2a2a2a;
        }
        .brutalist.dark-mode .link-card {
            box-shadow: var(--brut-shadow-base) var(--brut-shadow-base) 0 #e0e0e0;
        }
        .brutalist.dark-mode .link-card:hover {
            box-shadow: var(--brut-shadow-hover) var(--brut-shadow-hover) 0 #e0e0e0;
        }
        .brutalist.dark-mode .link-card:active {
            box-shadow: var(--brut-shadow-active) var(--brut-shadow-active) 0 #e0e0e0;
        }

        /* Motion Alternative A: Elastic Bounce */
        .brutalist.motion-elastic .link-card,
        .brutalist.motion-elastic .filter-btn {
            transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1),
                        box-shadow 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
        }

        /* Motion Alternative B: Slide Reveal */
        .brutalist.motion-slide .link-card .card-date {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            margin: 0;
            transition: all 0.15s ease-out;
        }
        .brutalist.motion-slide .link-card:hover .card-date {
            max-height: 2rem;
            opacity: 0.5;
            margin-top: 0.75rem;
        }

        /* Motion Alternative C: Shadow Pulse */
        .brutalist.motion-pulse .link-card:focus-visible,
        .brutalist.motion-pulse .filter-btn:focus-visible {
            animation: brut-shadow-pulse 0.6s ease-in-out infinite alternate;
        }
        @keyframes brut-shadow-pulse {
            from { box-shadow: 4px 4px 0 currentColor; }
            to { box-shadow: 6px 6px 0 currentColor; }
        }

        /* ─── OPTION CLASSES REFERENCE ───
           Typography:   typo-compressed | typo-mono | typo-stencil
           Geometric:    geo-ascii | geo-hash | geo-pipe
           Interactions: interact-stepped | interact-smooth | interact-flicker
           Accent:       accent-yellow | accent-green | accent-mono
           Structural:   struct-frame | struct-indexed | struct-divided
           Motion:       motion-elastic | motion-slide | motion-pulse
           ─────────────────────────────── */

    </style>
    <script>
        // Prevent flash - apply theme immediately based on preference
        (function() {
            const savedPref = localStorage.getItem('rindex-theme') || 'system';
            const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const isDark = savedPref === 'dark' || (savedPref === 'system' && systemDark);
            document.documentElement.style.background = isDark ? '#0d0d0d' : '#f4f1ea';
        })();
    </script>
</head>
<body class="loading">
    <div class="container">
        <!-- ═══ STYLE SWITCHER ═══ -->
        <div class="style-switcher">
            <span class="style-switcher-label">Style:</span>
            <button class="style-btn active" data-style="mystical">Mystical</button>
            <button class="style-btn" data-style="brutalist">Brutalist</button>
        </div>

        <!-- ═══ HEADER ═══ -->
        <header class="header">
            <div class="mode-toggle">
                <button onclick="toggleTheme()" id="theme-btn" aria-label="Toggle theme"></button>
            </div>
            <div class="title-wrapper">
                <div class="title-decoration">* * * * *</div>
                <h1 class="title">R-Index</h1>
                <p class="subtitle">The Routine Archive</p>
            </div>
        </header>

        <!-- ═══ SEARCH ═══ -->
        <div class="search-container">
            <span class="search-icon">&#9906;</span>
            <input
                type="text"
                class="search-box"
                id="search"
                placeholder="Search the archive..."
                autocomplete="off"
            >
            <span class="search-hint">ESC to clear</span>
        </div>

        <!-- ═══ FILTERS ═══ -->
        <div class="filters" id="filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="artifact">Artifacts</button>
            <button class="filter-btn" data-filter="canvas">Canvases</button>
            <button class="filter-btn" data-filter="note">Notes</button>
            <button class="filter-btn" data-filter="tool">Tools</button>
        </div>

        <!-- ═══ STATS ═══ -->
        <div class="stats" id="stats"></div>

        <!-- ═══ MAIN CONTENT ═══ -->
        <main id="content"></main>

        <!-- ═══ EMPTY STATE ═══ -->
        <div class="empty-state" id="empty" style="display: none;">
            <div class="empty-icon">&#9673;</div>
            <div class="empty-text">No entries found</div>
        </div>

        <!-- ═══ FOOTER ═══ -->
        <footer class="footer">
            <div class="footer-decoration">&#9674; &#9674; &#9674;</div>
            <span>R-Index v1.0</span>
        </footer>
    </div>

    <script>
        // ═══════════════════════════════════════════════════════════════════════════
        // DATA - Edit this array to add/update your links
        // ═══════════════════════════════════════════════════════════════════════════
        const LINKS = [
            // ─── ARTIFACTS ───
            {
                title: "Interactive Data Visualizer",
                description: "A dynamic chart builder with real-time data binding",
                url: "https://claude.site/artifacts/example-data-viz",
                category: "artifact",
                date: "2025-01-15"
            },
            {
                title: "Markdown Editor with Preview",
                description: "Split-pane markdown editor with live rendering",
                url: "https://claude.site/artifacts/example-md-editor",
                category: "artifact",
                date: "2025-01-12"
            },
            {
                title: "Color Palette Generator",
                description: "Generate harmonious color schemes from a base color",
                url: "https://claude.site/artifacts/example-colors",
                category: "artifact",
                date: "2025-01-08"
            },
            {
                title: "Task Timer with Pomodoro",
                description: "Focus timer with customizable work/break intervals",
                url: "https://claude.site/artifacts/example-pomodoro",
                category: "artifact",
                date: "2024-12-28"
            },

            // ─── CANVASES ───
            {
                title: "Project Architecture Overview",
                description: "System design canvas for the main application",
                url: "https://claude.ai/canvas/example-architecture",
                category: "canvas",
                date: "2025-01-20"
            },
            {
                title: "API Design Specification",
                description: "RESTful API endpoints and data models",
                url: "https://claude.ai/canvas/example-api-design",
                category: "canvas",
                date: "2025-01-18"
            },
            {
                title: "Database Schema Planning",
                description: "Entity relationships and table structures",
                url: "https://claude.ai/canvas/example-db-schema",
                category: "canvas",
                date: "2025-01-10"
            },

            // ─── NOTES ───
            {
                title: "Git Workflow Cheatsheet",
                description: "Common git commands and branching strategies",
                url: "#notes/git-workflow",
                category: "note",
                date: "2025-01-22"
            },
            {
                title: "TypeScript Patterns",
                description: "Useful TypeScript patterns and type utilities",
                url: "#notes/typescript-patterns",
                category: "note",
                date: "2025-01-19"
            },
            {
                title: "CSS Grid Reference",
                description: "Quick reference for CSS Grid layout properties",
                url: "#notes/css-grid",
                category: "note",
                date: "2025-01-14"
            },
            {
                title: "React Hooks Deep Dive",
                description: "Understanding useEffect, useMemo, and custom hooks",
                url: "#notes/react-hooks",
                category: "note",
                date: "2025-01-05"
            },
            {
                title: "Regex Patterns Collection",
                description: "Commonly used regular expressions with explanations",
                url: "#notes/regex-patterns",
                category: "note",
                date: "2024-12-30"
            },

            // ─── TOOLS ───
            {
                title: "Subtitle Cleaner",
                description: "Convert .SRT files to clean Word documents",
                url: "https://verneranton.github.io/subtitle2docx/",
                category: "tool",
                date: "2025-01-25"
            },
            {
                title: "List to Slides",
                description: "Transform lists into PowerPoint presentations",
                url: "https://verneranton.github.io/LL2PP/",
                category: "tool",
                date: "2025-01-20"
            }
        ];

        // ═══════════════════════════════════════════════════════════════════════════
        // APP STATE
        // ═══════════════════════════════════════════════════════════════════════════
        let currentFilter = 'all';
        let searchQuery = '';
        let currentStyle = localStorage.getItem('rindex-style') || 'mystical';

        // ═══════════════════════════════════════════════════════════════════════════
        // THEME MANAGEMENT (with system preference support)
        // ═══════════════════════════════════════════════════════════════════════════
        const body = document.body;
        const themeBtn = document.getElementById('theme-btn');
        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');

        function applyTheme(preference) {
            const isSystemDark = mediaQuery.matches;
            let finalTheme;

            if (preference === 'system') {
                finalTheme = isSystemDark ? 'dark' : 'light';
            } else {
                finalTheme = preference;
            }

            body.classList.remove('dark-mode', 'light-mode', 'loading');
            body.classList.add(finalTheme + '-mode');
            updateThemeButton(preference, finalTheme);
        }

        function updateThemeButton(preference, actualTheme) {
            if (preference === 'system') {
                themeBtn.textContent = '◐';
                themeBtn.title = `Auto (${actualTheme})`;
            } else if (actualTheme === 'dark') {
                themeBtn.textContent = '☀';
                themeBtn.title = 'Switch to system';
            } else {
                themeBtn.textContent = '☽';
                themeBtn.title = 'Switch to dark';
            }
        }

        // Cycle: system -> light -> dark -> system
        function toggleTheme() {
            const current = localStorage.getItem('rindex-theme') || 'system';
            let next;

            if (current === 'system') {
                next = 'light';
            } else if (current === 'light') {
                next = 'dark';
            } else {
                next = 'system';
            }

            localStorage.setItem('rindex-theme', next);
            applyTheme(next);
        }

        // Listen for system theme changes
        mediaQuery.addEventListener('change', () => {
            const pref = localStorage.getItem('rindex-theme') || 'system';
            if (pref === 'system') {
                applyTheme('system');
            }
        });

        // ═══════════════════════════════════════════════════════════════════════════
        // STYLE MANAGEMENT
        // ═══════════════════════════════════════════════════════════════════════════
        function applyStyle(style) {
            body.classList.remove('mystical', 'brutalist');
            body.classList.add(style);
            currentStyle = style;

            // Update style buttons
            document.querySelectorAll('.style-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.style === style);
            });
        }

        // Style switcher event
        document.querySelector('.style-switcher').addEventListener('click', (e) => {
            if (e.target.classList.contains('style-btn')) {
                const style = e.target.dataset.style;
                localStorage.setItem('rindex-style', style);
                applyStyle(style);
            }
        });

        // ═══════════════════════════════════════════════════════════════════════════
        // RENDERING
        // ═══════════════════════════════════════════════════════════════════════════
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        function getCategoryLabel(category) {
            const labels = {
                artifact: 'Artifact',
                canvas: 'Canvas',
                note: 'Note',
                tool: 'Tool'
            };
            return labels[category] || category;
        }

        function renderStats() {
            const stats = document.getElementById('stats');
            const counts = {
                artifact: LINKS.filter(l => l.category === 'artifact').length,
                canvas: LINKS.filter(l => l.category === 'canvas').length,
                note: LINKS.filter(l => l.category === 'note').length,
                tool: LINKS.filter(l => l.category === 'tool').length
            };

            stats.innerHTML = `
                <div class="stat-item"><span class="stat-count">${counts.artifact}</span> Artifacts</div>
                <div class="stat-item"><span class="stat-count">${counts.canvas}</span> Canvases</div>
                <div class="stat-item"><span class="stat-count">${counts.note}</span> Notes</div>
                <div class="stat-item"><span class="stat-count">${counts.tool}</span> Tools</div>
            `;
        }

        function filterLinks() {
            const query = searchQuery.toLowerCase();
            return LINKS.filter(link => {
                const matchesFilter = currentFilter === 'all' || link.category === currentFilter;
                const matchesSearch = !query ||
                    link.title.toLowerCase().includes(query) ||
                    link.description.toLowerCase().includes(query) ||
                    link.category.toLowerCase().includes(query);
                return matchesFilter && matchesSearch;
            });
        }

        function groupByCategory(links) {
            const groups = {};
            const order = ['artifact', 'canvas', 'note', 'tool'];

            order.forEach(cat => {
                const items = links.filter(l => l.category === cat);
                if (items.length > 0) {
                    groups[cat] = items.sort((a, b) => new Date(b.date) - new Date(a.date));
                }
            });

            return groups;
        }

        function renderCard(link) {
            return `
                <a href="${link.url}" class="link-card" target="_blank" rel="noopener">
                    <div class="card-header">
                        <div class="card-title">${link.title}</div>
                        <div class="card-category">${getCategoryLabel(link.category)}</div>
                    </div>
                    <div class="card-desc">${link.description}</div>
                    <div class="card-date">${formatDate(link.date)}</div>
                </a>
            `;
        }

        function getSectionIcon(category) {
            const icons = {
                artifact: '&#9671;',
                canvas: '&#9633;',
                note: '&#9998;',
                tool: '&#9881;'
            };
            return icons[category] || '&#9679;';
        }

        function getSectionTitle(category) {
            const titles = {
                artifact: 'Artifacts',
                canvas: 'Canvases',
                note: 'Notes',
                tool: 'Tools'
            };
            return titles[category] || category;
        }

        function render() {
            const content = document.getElementById('content');
            const empty = document.getElementById('empty');
            const filtered = filterLinks();

            if (filtered.length === 0) {
                content.innerHTML = '';
                empty.style.display = 'block';
                return;
            }

            empty.style.display = 'none';
            const groups = groupByCategory(filtered);

            let html = '';
            for (const [category, links] of Object.entries(groups)) {
                html += `
                    <section class="section" data-category="${category}">
                        <div class="section-header">
                            <span class="section-line"></span>
                            <span class="section-icon">${getSectionIcon(category)}</span>
                            <span class="section-title">${getSectionTitle(category)}</span>
                            <span class="section-line"></span>
                        </div>
                        <div class="links-grid">
                            ${links.map(renderCard).join('')}
                        </div>
                    </section>
                `;
            }

            content.innerHTML = html;
        }

        // ═══════════════════════════════════════════════════════════════════════════
        // EVENT HANDLERS
        // ═══════════════════════════════════════════════════════════════════════════

        // Filter buttons
        document.getElementById('filters').addEventListener('click', (e) => {
            if (e.target.classList.contains('filter-btn')) {
                document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                currentFilter = e.target.dataset.filter;
                render();
            }
        });

        // Search
        const searchInput = document.getElementById('search');
        searchInput.addEventListener('input', (e) => {
            searchQuery = e.target.value;
            render();
        });

        // ESC to clear search, / to focus
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                searchInput.value = '';
                searchQuery = '';
                render();
            }
            if (e.key === '/' && document.activeElement !== searchInput) {
                e.preventDefault();
                searchInput.focus();
            }
        });

        // ═══════════════════════════════════════════════════════════════════════════
        // INITIALIZATION
        // ═══════════════════════════════════════════════════════════════════════════
        document.addEventListener('DOMContentLoaded', () => {
            const savedPref = localStorage.getItem('rindex-theme') || 'system';
            const savedStyle = localStorage.getItem('rindex-style') || 'mystical';
            applyTheme(savedPref);
            applyStyle(savedStyle);
            renderStats();
            render();
        });

        // Apply immediately to reduce flash
        const immediatePref = localStorage.getItem('rindex-theme') || 'system';
        const immediateStyle = localStorage.getItem('rindex-style') || 'mystical';
        const isImmediateDark = immediatePref === 'dark' ||
            (immediatePref === 'system' && mediaQuery.matches);
        body.classList.add(isImmediateDark ? 'dark-mode' : 'light-mode');
        body.classList.add(immediateStyle);
    </script>
</body>
</html>
